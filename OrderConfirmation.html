<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Confirmation</title>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: linear-gradient(135deg, #ffcccc, #ffe6e6);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.container {
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  width: 90%;
  max-width: 500px;
  padding: 30px;
  text-align: center;
  animation: fadeIn 0.8s ease;
}

h1 {
  color: #ff4d4d;
  margin-bottom: 10px;
}

p {
  color: #555;
  font-size: 16px;
}

button {
  border: none;
  padding: 12px 20px;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
  color: white;
  margin: 10px;
  transition: 0.3s;
}

.cancel-btn {
  background: #ff4d4d;
}

.cancel-btn:hover {
  background: #e60000;
}

.store-btn {
  background: #4caf50;
}

.store-btn:hover {
  background: #3e8e41;
}

.tracking {
  font-weight: bold;
  color: #333;
  background: #f7f7f7;
  padding: 8px 15px;
  border-radius: 8px;
  margin-top: 10px;
  display: inline-block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<div class="container">
  <h1>Order Confirmed 🎉</h1>
  <p>Your order has been successfully placed!</p>
  <p>Please note down your Tracking ID:</p>
  <div class="tracking" id="trackingId"></div>
  <p>Please note it down. The order will arrive in about 5 days after confirmation.</p>
  <p>If you want to cancel it, click below.</p>
  <p>Thank you!</p>
  <div>
    <button class="cancel-btn" onclick="cancelOrder()">Cancel Order</button>
    <button class="store-btn" onclick="window.location.href='index.html'">Back to Store</button>
  </div>
  <h3 style="margin-top:20px; color:#666;">You can close this page safely now.</h3>
</div>

<script>
const discordWebhook = "https://discord.com/api/webhooks/1422839520977621012/dmCTctd81k-0KjhaTjHkBY80BM4qgAzV2amKGZy856J2xzg8-fIQ_TukZfnxbUGJvwVI";

document.addEventListener("DOMContentLoaded", () => {
  // Retrieve tracking ID
  const params = new URLSearchParams(window.location.search);
  const trackingId = params.get("trackingId") || "UNKNOWN";
  document.getElementById("trackingId").textContent = trackingId;

  // Send order confirmation to Discord
  fetch(discordWebhook, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      content: `✅ **New Order Confirmed!**\nTracking ID: ${trackingId}`
    })
  });
});

function cancelOrder() {
  const trackingId = document.getElementById("trackingId").textContent;
  if (!confirm("Are you sure you want to cancel this order?")) return;

  // Send cancellation to Discord
  fetch(discordWebhook, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      content: `❌ **Order Cancelled!**\nTracking ID: ${trackingId}`
    })
  })
  .then(() => {
    alert("Your order has been cancelled successfully!");
    window.location.href = "index.html";
  })
  .catch(err => {
    alert("Failed to cancel order. Please try again.");
    console.error(err);
  });
}
</script>

</body>
</html>
