<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Confirmation</title>
<style>
body {
  margin:0;
  font-family:'Arial',sans-serif;
  background: linear-gradient(135deg,#ccf0ff,#e6ccff);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  animation:bgMove 20s linear infinite;
}
@keyframes bgMove {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.confirm-container {
  background:#fff;
  border-radius:25px;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
  padding:35px 30px;
  width:100%;
  max-width:500px;
  text-align:center;
  opacity:0;
  transform:translateY(30px);
  animation:fadeIn 1s forwards;
}
@keyframes fadeIn {
  to { opacity:1; transform:translateY(0); }
}

h1 {
  color:#4d4dff;
  margin-bottom:5px;
  text-shadow:0 2px 10px rgba(0,0,0,0.2);
}

h2 {
  color:#ff4d4d;
  margin-top:0;
  font-size:18px;
  margin-bottom:20px;
}

.order-details {
  background:#f9f9f9;
  border-radius:15px;
  padding:20px;
  margin:20px 0;
  text-align:left;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  animation:slideIn 0.8s forwards;
}

@keyframes slideIn { 0%{opacity:0; transform:translateX(-20px);} 100%{opacity:1; transform:translateX(0);} }

.order-details p {
  margin:8px 0;
  font-size:16px;
  color:#333;
}

.bullets {
  text-align:left;
  margin-top:20px;
  padding-left:20px;
}
.bullets li {
  margin:8px 0;
  font-size:15px;
  color:#555;
}

button {
  background:#ff4d4d;
  color:white;
  border:none;
  padding:12px 25px;
  border-radius:10px;
  cursor:pointer;
  font-size:18px;
  margin-top:20px;
  transition: all 0.3s, transform 0.3s;
  box-shadow:0 5px 15px rgba(255,77,77,0.4);
}
button:hover {
  background:#ff1a1a;
  transform:scale(1.05);
  box-shadow:0 8px 20px rgba(255,77,77,0.6);
}

@media(max-width:500px){
  .confirm-container { padding:25px 15px; }
}
</style>
</head>
<body>

<div class="confirm-container">
  <h1>Order Confirmation</h1>
  <h2>You can close this page safely now</h2>

  <div class="order-details" id="orderDetails"></div>

  <ul class="bullets">
    <li>‚úÖ Your order will arrive around 5 days after confirmation.</li>
    <li>‚ö†Ô∏è If you want to cancel, click the Cancel button below.</li>
    <li>üôè Thank you!</li>
  </ul>

  <button onclick="cancelOrder()">Cancel Order</button>
</div>

<script>
const webhookURL = "https://discord.com/api/webhooks/1422839520977621012/dmCTctd81k-0KjhaTjHkBY80BM4qgAzV2amKGZy856J2xzg8-fIQ_TukZfnxbUGJvwVI";

const params = new URLSearchParams(window.location.search);
const name = params.get('name') || '';
const cls = params.get('class') || '';
const phone = params.get('phone') || '';
const product = params.get('product') || '';
const type = params.get('type') || '';
const price = params.get('price') || '';

const orderDiv = document.getElementById('orderDetails');
orderDiv.innerHTML = `
  <p><strong>Name:</strong> ${name}</p>
  <p><strong>Class:</strong> ${cls}</p>
  <p><strong>Phone:</strong> ${phone || 'N/A'}</p>
  <p><strong>Product:</strong> ${product}</p>
  <p><strong>Type:</strong> ${type}</p>
  <p><strong>Price:</strong> ‚Çπ${price}</p>
`;

function cancelOrder() {
  const content = `‚ùå **Order Cancelled**\n**Name:** ${name}\n**Class:** ${cls}\n**Phone:** ${phone || 'N/A'}\n**Product:** ${product}\n**Type:** ${type}\n**Price:** ‚Çπ${price}`;

  fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ content })
  })
  .then(response => {
    if(response.ok){
      alert("Your order has been cancelled. Redirecting to the store...");
      window.location.href = "index.html";
    } else {
      alert("Failed to cancel. Try again.");
    }
  })
  .catch(error => {
    console.error(error);
    alert("Error cancelling order.");
  });
}
</script>

</body>
</html>
