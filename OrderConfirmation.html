<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Confirmation</title>
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #fff0f0, #ffe0e0);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}
.container {
  background: white;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  max-width: 480px;
  text-align: center;
}
h1 {
  color: #ff4d4d;
}
p {
  font-size: 16px;
  color: #333;
  margin: 10px 0;
}
button {
  margin: 10px;
  padding: 12px 20px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
  color: white;
  transition: 0.3s;
}
.cancel-btn {
  background: #ff4d4d;
}
.cancel-btn:hover {
  background: #ff1a1a;
}
.store-btn {
  background: #ffa64d;
}
.store-btn:hover {
  background: #ff8c1a;
}
</style>
</head>
<body>
<div class="container">
  <h1>✅ Order Confirmed!</h1>
  <p>Your order has been placed successfully.</p>
  <p><strong>It will arrive in around 5 days after confirmation.</strong></p>
  <p>If you want to cancel, click below.</p>
  <p><strong>Thank you for ordering!</strong></p>
  <p id="tracking"></p>
  <button class="cancel-btn" onclick="cancelOrder()">Cancel Order</button>
  <button class="store-btn" onclick="window.location.href='index.html'">Back to Store</button>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const trackingId = params.get('tracking');
const product = params.get('product');
const type = params.get('type');
const price = params.get('price');

document.getElementById('tracking').innerHTML = `<strong>Tracking ID:</strong> ${trackingId}<br><em>Please note it down!</em>`;

function cancelOrder() {
  const webhookURL = "https://discord.com/api/webhooks/1422839520977621012/dmCTctd81k-0KjhaTjHkBY80BM4qgAzV2amKGZy856J2xzg8-fIQ_TukZfnxbUGJvwVI";
  const data = {
    content: `❌ **Order Cancelled!**\n🔖 Tracking ID: ${trackingId}\n🧩 Product: ${product}\n🛠 Type: ${type}\n💰 Price: ₹${price}`
  };

  fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(() => {
    alert("Order cancelled. Thank you!");
    window.location.href = "index.html";
  })
  .catch(() => alert("Failed to cancel order. Please try again later."));
}
</script>
</body>
</html>
