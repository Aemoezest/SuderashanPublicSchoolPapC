<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Confirmation</title>

<style>
body {
    margin:0; font-family:'Arial',sans-serif; background:#f5f5f5; display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px;
}

.confirm-container {
    background:#fff; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15); padding:30px; max-width:500px; width:100%; text-align:center; position:relative;
    animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
    from { opacity:0; transform: translateY(-30px);}
    to { opacity:1; transform: translateY(0);}
}

h1 {
    color:#ff4d4d; margin-bottom:15px; text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
}

.order-info { font-size:16px; color:#333; margin:15px 0; }

ul { text-align:left; margin: 15px auto; max-width: 400px; font-size:14px; color:#555; }

button {
    background: #ff4d4d; color:white; border:none; padding:12px 20px; border-radius:8px; cursor:pointer; font-size:18px; margin:10px 5px; transition:all 0.3s;
}

button:hover { background:#ff1a1a; transform: scale(1.05); }

.back-btn { background:#aaa; }
.back-btn:hover { background:#888; }

@media(max-width:500px){
    .confirm-container { padding:20px; }
    ul { max-width:100%; }
}
</style>
</head>
<body>

<div class="confirm-container">
    <h1>Order Confirmation</h1>
    <div class="order-info" id="orderDetails"></div>

    <ul>
        <li>Your order will be ready around 5 days after confirmation.</li>
        <li>If you want to cancel it, click the cancel button below.</li>
        <li>Thank you!</li>
    </ul>

    <button id="cancelBtn">Cancel Order</button>
    <button class="back-btn" onclick="window.location.href='index.html'">Back to Store</button>

</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const params = new URLSearchParams(window.location.search);
    const product = params.get('product') || 'Unknown';
    const type = params.get('type') || 'Unknown';
    const price = params.get('price') || '0';
    const tracking = params.get('tracking') || 'Unknown';

    document.getElementById('orderDetails').innerHTML = `
        <strong>Product:</strong> ${product} (${type})<br>
        <strong>Price:</strong> ₹${price}<br>
        <strong>Tracking ID:</strong> Please note it down: ${tracking}<br>
        <strong>You can close this page safely now.</strong>
    `;

    document.getElementById('cancelBtn').addEventListener('click', function() {
        if(confirm("Are you sure you want to cancel this order?")) {
            const webhookURL = "YOUR_DISCORD_WEBHOOK_HERE";
            const content = `❌ Order Cancelled!\n**Product:** ${product}\n**Type:** ${type}\n**Price:** ₹${price}\n**Tracking ID:** ${tracking}`;

            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ content })
            })
            .then(() => {
                alert("Order cancelled. You will be redirected to the store.");
                window.location.href = "index.html";
            })
            .catch(err => {
                console.error(err);
                alert("Failed to cancel order. Try again.");
            });
        }
    });
});
</script>

</body>
</html>
